@import "font.styl"
@import "mixins.styl"
@import "libs/fitgrid.styl"

/*------------------------------------*\
    $CONTENTS
\*------------------------------------*/

/**
 * CONTENTS............Youâ€™re reading it!
 * DEFAULTS............Set defaults
 * HOME................Home page
 * LOGIN/SIGN_UP.......Login/signup forms
 * NAVIGATION_BAR......Navigation bar
 * PROFILE.............Profile page
 * CHAT................Chat page
 * TASKS...............Tasks list page
 * SETTINGS............Settings panel
 * 401.................Unauthorized page
 * 404.................File not found page
 * COMPONENTS..........Buttons, overlay, etc.
 * ANIMATIONS..........Define all animations
 */

/*------------------------------------*\
    $DEFAULTS
\*------------------------------------*/

primary-color = #ffc600

home-bg-color = #4d5a60
home-text-color = #f0f0f0
home-field-bg-color = #fff
home-field-text-color = #333

navbar-bg-color = #ffc600
navbar-text-color = #ffe487

sidebar-bg-color = #3d3d3d
sidebar-text-color = #ccc

site-bg-color = #f0f0f0
site-text-color = #333
site-field-bg-color = #fff
site-field-text-color = #333

window-bg-color = #fff

alert-color = #c50f13
success-color = #5da423
line-color = #e0e0e0

html, body
	height: 100%
	prevent-doubleclick()

body
	font: 300 14px 'Open Sans', sans-serif
	background-color: site-bg-color

input, textarea
	margin: 0
	padding: 0
	font-family: 'Open Sans', sans-serif
	font-size: 0.857142em
	font-weight: 300
	border: 0
	outline: none
	box-sizing(border-box)

::-webkit-input-placeholder /* WebKit browsers */
	color: gray

:-moz-placeholder /* Mozilla Firefox 4 to 18 */
	color: gray

::-moz-placeholder /* Mozilla Firefox 19+ */
	color: gray

:-ms-input-placeholder /* Internet Explorer 10+ */
	color: gray

a
	color: primary-color
	text-decoration: none
	cursor: pointer

#wrapper
	position: relative
	width: 100%
	height: 100%
	min-width: 960px
	min-height: 500px

/*------------------------------------*\
    $HOME
\*------------------------------------*/

.section-wrapper
	position: relative
	width: 100%
	height: 100%

	&.welcome
		color: home-text-color
		background: home-bg-color url('/images/stuffs.png') center 80% no-repeat
		.header
			position: absolute
			top: 0
			left: 50%
			margin-left: -(960/2)px
			width: 960px
			#login-button
				float: right
				margin: 20px
				padding: 8px 10px
				font-weight: 600
				color: home-text-color
				border: solid 2px home-text-color
				border-radius(10px)
				opacity: 0.4
				cursor: pointer
				transition(all 500ms)
				&:hover
					opacity: 1
		.intro
			position: absolute
			top: 10%
			width: 100%
			text-align: center
			img.logo
				height: 60px
			h1
				margin: 0
				font-size: 2.5em
				font-weight: 600
				text-shadow(0 4px 0 rgba(0,0,0,.2))
			p
				font-size: 1.285714em
		.explore
			position: absolute
			right: 0
			bottom: 0
			left: 0
			height: 80px
			line-height: 80px
			font-size: 1.285714em
			font-weight: 600
			text-align: center
			color: rgba(home-text-color, 0.4)

	&.overview
		//placeholder

/*------------------------------------*\
    $LOGIN/SIGN_UP
\*------------------------------------*/

.section-wrapper.login, .section-wrapper.register
	color: #333
	background-color: #fff
	overflow: auto
	.header
		width: 960px
		margin: 40px auto 20px
		padding-bottom: 20px
		border-bottom: solid thin line-color
		img.logo
			vertical-align: middle
			height: 35px
		h1
			display: inline
			vertical-align: middle
			margin: 0 10px
			font-size: 2.5em
			font-weight: 600
	.form
		width: 250px
		margin: 0 auto
		padding: 10px 20px 20px
		text-align: center
		.form__control
			position: relative
			padding-top: 10px
			h2
				margin: 0
			input[type="text"], input[type="password"]
				width: 100%
				padding: 15px 10px
				color: home-field-text-color
				background-color: home-field-bg-color
				border: solid thin line-color
		.button
			width: 100%
		#submit-button
			background-color: primary-color
		#switch-signup-link, #switch-login-link
			font-weight: 600
			color: #333
		a.login-fb-button
			height: 17px
			line-height: 47px
			background-color: #4c66a4
			.fb-icon
				position: absolute
				top: 0
				bottom: 0
				left: 0
				width: 47px
				font-size: 1.5em
				background-color: rgba(0,0,0,.15)
			.fb-text
				position: absolute
				top: 0
				right: 0
				bottom: 0
				left: 47px
			&:active>*
				padding-top: 3px
		.error-dialog-box
			position: absolute
			top: 11px
			right: -220px
			color: alert-color
			font-size: 0.857142em
			dialog-box(170px,auto,#eee,'left',13px)

/*------------------------------------*\
    $NAVIGATION_BAR
\*------------------------------------*/

navbar-width = 55px

.navbar
	position: fixed
	top: 0
	bottom: 0
	left: 0
	width: navbar-width
	background-color: navbar-bg-color
	box-shadow(3px 0 0 rgba(0,0,0,.1))

	.logo-small
		height: navbar-width
		overflow: auto
		img
			display: block
			height: 30px
			margin: 12.5px auto

	ul.user-wrapper
		margin: 0
		padding: 0
		list-style: none
		li
			width: 100%
			height: navbar-width
			line-height: navbar-width
			text-align: center
			a
				display: block
				width: 100%
				height: 100%
				i
					font-size: 1.285714em
					color: navbar-text-color
			&.selected
				i
					color: #fff

/*------------------------------------*\
    $PROFILE
\*------------------------------------*/

.profile__image
	width: 100px
	height: 100px

/*------------------------------------*\
    $CHAT
\*------------------------------------*/

.user-content
	position: absolute
	top: 0
	right: 0
	bottom: 0
	left: navbar-width
	color: site-text-color

sidebar-width = 217px
	
.groups-list
	position: absolute
	top: 0
	bottom: 0
	left: 0
	width: sidebar-width
	color: sidebar-text-color
	background-color: sidebar-bg-color
	box-shadow(3px 0 0 rgba(0,0,0,.1))
	overflow-y: auto

	.form
		padding: 10px
		.form__control
			position: relative
			input[type="text"]
				width: 100%
				padding: 8px
				color: sidebar-text-color
				background-color: darken(sidebar-bg-color, 20%)
				border: solid thin darken(sidebar-bg-color, 20%)
			.submit-button
				display: block
				position: absolute
				top: 0
				right: 0
				width: 35px
				height: 35px
				padding: 0
				background-color: transparent
				border: 0
				outline: none
				i
					color: gray

	.group
		position: relative
		padding: 5px 34px 5px 19px
		overflow: hidden
		.group__name
			font-weight: 600
			cursor: pointer
		.group__count
			font-size: 0.857142em
			font-weight: 400
			color: #959595
		.group__delete-button
			position: absolute
			top: 15px
			right: -14px
			cursor: pointer
			transition(all 250ms)
			i
				color: #f05b51
		&:hover
			background-color: darken(sidebar-bg-color, 20%)
			.group__delete-button
				right: 10px

#chat-windows-container
	position: absolute
	top: 15px
	right: 15px
	bottom: 15px
	left: sidebar-width + 15

.chat-window
	position: absolute
	top: 5px
	right: 5px
	bottom: 5px
	left: 5px
	background-color: window-bg-color
	border: solid thin rgba(0,0,0,.1)
	border-bottom: solid 3px rgba(0,0,0,.1)

	.chat-window__head
		&>*
			padding: 0 10px
		.title
			float: left
			height: 35px
			line-height: 35px
			font-weight: 600
		.close-button
			float: right
			height: 35px
			cursor: pointer
			i
				line-height: 35px
				font-size: 1.142857em
				color: #ccc
			&:hover
				i
					color: alert-color
		.members-list
			height: 35px
			clear: both
			.member-avatar
				display: block
				float: left
				width: 24px
				height: 24px
				margin: 0 2px 0 0
				background-color: #ccc
				border-radius(4px)

	.chat-window__room
		position: absolute
		top: 70px
		right: 0
		bottom: 94px
		left: 0
		overflow: auto
		.notice
			margin: 15px
			font-size: 0.857142em
			text-align: center
			color: gray

	.chat-window__actions
		position: absolute
		right: 0
		bottom: 65px
		left: 0
		padding: 10px 10px 0 10px
		.action--invite, .action--share
			margin-right: 10px
			&>*
				font-size: 0.857142em
				font-weight: 400
				color: #2a80b9

	.chat-window__input
		position: absolute
		right: 0
		bottom: 0
		left: 0
		height: 65px
		.chat-form
			padding: 10px
			.form__control
				position: relative
				height: 45px
				border: solid thin line-color
				box-sizing(border-box)
			.chat-submit-button
				position: absolute
				top: 0
				right: 0
				width: 43px
				height: 43px
				padding: 0
				background-color: transparent
				border: 0
				outline: none
				i
					line-height: 43px
					font-size: 1.142857em
					color: #ccc
			.chat-input
				width: 100%
				height: 43px
				padding: 13px 43px 13px 8px
				background-color: transparent
				resize: none

.chat-line--me
	position: relative
	margin: 15px 20px
	.avatar
		position: absolute
		top: 1px
		right: 0
	.chat-box
		float: right
		position: relative
		width: auto
		max-width: 50%
		height: auto
		margin-right: 50px
		padding: 10px
		font-size: 0.857142em
		font-weight: 400
		background-color: #ffe487
		border-radius(4px)
		&:after
			content: ""
			position: absolute
			top: 10px
			right: -10px
			border-top: solid 5px transparent
			border-right: solid 5px transparent
			border-bottom: solid 5px #ffe487
			border-left: solid 5px #ffe487

.chat-line--guest
	position: relative
	margin: 15px 20px
	.avatar
		position: absolute
		top: 1px
		left: 0
	.chat-box
		float: left
		position: relative
		width: auto
		max-width: 50%
		height: auto
		margin-left: 50px
		padding: 10px
		font-size: 0.857142em
		font-weight: 400
		background-color: #eee
		border-radius(4px)
		&:after
			content: ""
			position: absolute
			top: 10px
			left: -10px
			border-top: solid 5px transparent
			border-right: solid 5px #eee
			border-bottom: solid 5px #eee
			border-left: solid 5px transparent

.guide-dialog-box
	color: success-color
	font-size: 0.857142em
	dialog-box(auto,auto,#fff,'left',13px)





#share-popup
	display: inline-block
	position: relative
	width: 900px
	height: 600px
	// width: 80%
	// max-width: 900px
	// height: 80%
	// max-height: 600px
	background-color: window-bg-color
	#share-popup__canvas
		position: absolute
		top: 10px
		right: 10px
		bottom: 50px
		left: 10px
		background-color: gray
	#share-form
		position: absolute
		bottom: 0

#add-member-popup
	display: inline-block
	position: relative
	width: 400px
	height: 600px
	background-color: window-bg-color
	#popup__search
		.form
			@extend .groups-list .form
			.form__control>.submit-button
				color: #ccc
	#popup__results
		position: absolute
		top: 56px
		right: 0
		bottom: 60px
		left: 0
		overflow-y: auto
		.single-result
			margin: 0 10px
			padding: 10px 0
			text-align: left
			border-bottom: dotted thin line-color
			&:last-child
				border-bottom: none
			.fa
				margin-right: 10px
			.fa-check-square
				color: success-color
			.fa-plus-square
				color: gray
			&.not-a-member
				cursor: pointer
			&.chosen
				.fa-plus-square
					color: primary-color
	#popup__buttons
		position: absolute
		right: 0
		bottom: 0
		left: 0
		padding: 10px
		border-top: solid thin site-bg-color
		.cancel-button
			float: left
			width: 185px
			margin-right: 10px
			background-color: gray
			border-bottom-color: darken(gray, 20%)
		.confirm-button
			float: left
			width: 185px
			background-color: primary-color
			border-bottom-color: darken(primary-color, 20%)

/*------------------------------------*\
    $401
\*------------------------------------*/

.gandalf
	position: absolute
	top: 50%
	left: 50%
	margin-top: -75px
	margin-left: -75px
	width: 150px
	color: site-text-color
	.gandalf__avatar
		margin: 0 auto
		background-image: url('/images/gandalf_avt.jpg')
	.gandalf__quote
		margin: 12px 0 2px
		text-align: center
	.gandalf__author
		text-align: right
		font-size: 0.857142em

/*------------------------------------*\
    $COMPONENTS
\*------------------------------------*/

.button
	display: block
	position: relative
	font-size: 0.857142em
	font-weight: 600
	color: white
	text-transform: uppercase
	border: 0
	outline: none
	&:active
		box-shadow(inset 0 3px 5px rgba(0,0,0,.5))

.button.large
	@extend .button
	padding: 15px 0
	&:active
		padding: 18px 0 12px

.button.small
	@extend .button
	padding: 8px 0
	&:active
		padding: 11px 0 5px

.alert-box, .notice-box
	padding: 8px 10px
	font-size: 0.857142em
	font-weight: 400
	color: #f0f0f0
	border-radius(4px)
	&.alert-box
		background-color: alert-color
	&.notice-box
		background-color: success-color

.clear
	clear: both

.avatar
	width: 100px
	height: 100px
	background-repeat: no-repeat
	background-position: center
	background-size: cover
	border-radius(50%)
	&.small
		width: 35px
		height: 35px

.overlay
	display: table
	position: fixed
	top: 0
	left: 0
	width: 100%
	height: 100%
	background-color: rgba(black, .5)
	z-index: 10
	.center
		display: table-cell
		vertical-align: middle
		text-align: center

.round-corner
	border-radius(4px)

.ios7-effect
	-webkit-filter: blur(5px)brightness(50%)
	// opacity: 0.7
	// -webkit-filter: grayscale(100%)blur(5px)

/*------------------------------------*\
    $ANIMATIONS
\*------------------------------------*/

.fade-in
	animation(fade-in 500ms 1 forwards ease-out)
@keyframes fade-in
	0%
		opacity: 0
	100%
		opacity: 1

.jelly-show
	animation(jelly-show 500ms 1 forwards ease-out)
.jelly-hide
	animation(jelly-hide 250ms 1 forwards ease-out)
@keyframes jelly-show
	0%
		transform(scale(0.0))
	50%
		transform(scale(1.0))
	75%
		transform(scale(0.95))
	100%
		transform(scale(1.0))
@keyframes jelly-hide
	0%
		transform(scale(1.0))
	100%
		transform(scale(0.0))

.zoom-in
	animation(zoom-in 200ms 1 forwards ease-out)
@keyframes zoom-in
	0%
		transform(scale(0.0))
	100%
		transform(scale(1.0))

.ding-dong
	color: alert-color
	animation(ding-dong 500ms 1 forwards ease)
	transform-origin(50% 0%)
@keyframes ding-dong
	0%
		transform(rotate(30deg))
	50%
		transform(rotate(-30deg))
	75%
		transform(rotate(30deg))
	100%
		transform(rotate(0deg))